{"version":3,"sources":["webpack:///webpack/bootstrap 197a3a94fc1ad76a191d","webpack:///./src/bootstrap.js","webpack:///./src/pixelotool.js","webpack:///./src/config.js","webpack:///./src/canvas.manager.js","webpack:///./src/canvas.class.js","webpack:///./src/program.js","webpack:///./src/filter.bank.js"],"names":["pixelotool","document","addEventListener","event","config","prepare_document","init","run","window","pot","canvasManager","canvas","options","console","log","program","name","version","status","screen","width","height","create","canvas_list","body","style","margin","overflow","top","innerWidth","innerHeight","Promise","id","length","c","push","resolve","Canvas","$el","createElement","setAttribute","ctx","getContext","image","addImage","pixel_filter","pixels","getImageData","i","data","p","r","g","b","putImageData","path","img","Image","onload","drawImage","src","fillStyle","fillRect","appendChild","then","applyEachPixel","grayscale","threshold_light","toScreen","v","threshold","light"],"mappings":"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","file":"app-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 197a3a94fc1ad76a191d\n **/","\r\nimport * as pixelotool from './pixelotool';\r\nimport program from './program';\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", (event) => {\r\n\r\n        let config = {\r\n            prepare_document:  true\r\n        };\r\n\r\n        pixelotool.init( config ).run( program );\r\n}); \r\n\r\nwindow.pot = pixelotool; // debug\n\n\n/** WEBPACK FOOTER **\n ** ./src/bootstrap.js\n **/","\r\nimport config from './config';\r\nimport * as canvasManager from './canvas.manager';\r\n\r\nexport var canvas   = canvasManager;\r\n\r\nexport function init(options = {}){\r\n\r\n    canvas.init(options);\r\n\r\n    console.log('pot.init : appli ready');\r\n    return this;\r\n}\r\n\r\nexport function run(program){\r\n\r\n    console.log('pot.run started ...');\r\n    program(this);\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/pixelotool.js\n **/","\r\nexport default  {\r\n    name: \"pixelotool\",\r\n    version: \"0.1\",\r\n    status: 'development',\r\n    screen: {\r\n        width: 0,\r\n        height: 0\r\n    }\r\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/config.js\n **/","\r\nimport Canvas from './canvas.class';\r\n\r\nlet canvas_list = [],\r\n    config = {};\r\n\r\nexport function init(options = {}){\r\n\r\n    // body preparation\r\n\r\n    if(options.prepare_document && options.prepare_document === true){\r\n        document.body.style.margin      = 0;\r\n        document.body.style.overflow    = 'hidden';\r\n    }   \r\n\r\n    // screen dimension\r\n\r\n    config.screen = {\r\n        width: window.top.innerWidth,\r\n        height: window.top.innerHeight\r\n    };\r\n\r\n    console.log('canvas manager: ready');\r\n}\r\n\r\nexport function create(options = {}){\r\n\r\n    return new Promise(resolve=>{\r\n        options.id      = canvas_list.length;\r\n        options.width   = options.width  || config.screen.width;\r\n        options.height  = options.height || config.screen.height;\r\n\r\n        let c = new Canvas(options);\r\n        canvas_list.push(c);\r\n\r\n        console.log('canvas '+options.id+' create');\r\n\r\n        resolve(c);\r\n    });  \r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/canvas.manager.js\n **/","\r\nexport default class Canvas {\r\n\r\n    constructor(options = {}){\r\n\r\n        this.id     = options.id;\r\n\r\n        this.$el    = document.createElement('canvas');\r\n        this.$el.id = options.name || 'canvas_' + this.id;\r\n\r\n        this.width  = options.width;\r\n        this.height = options.height;\r\n\r\n        this.$el.setAttribute('width', this.width);\r\n        this.$el.setAttribute('height', this.height);\r\n\r\n        this.ctx = this.$el.getContext('2d');\r\n\r\n        // Image\r\n\r\n        if(options.image){\r\n            this.addImage(options.image);\r\n        }\r\n    }\r\n\r\n    applyEachPixel( pixel_filter, options = {} ){\r\n\r\n        return new Promise( resolve => {\r\n\r\n            let pixels = this.getImageData();\r\n\r\n            for(let i=0; i<pixels.data.length; i+=4){\r\n\r\n                let p = pixel_filter( pixels.data[i], pixels.data[i+1], pixels.data[i+2], options );\r\n\r\n                pixels.data[i]      = p.r;\r\n                pixels.data[i+1]    = p.g;\r\n                pixels.data[i+2]    = p.b;\r\n            }\r\n\r\n            this.ctx.putImageData(pixels, 0, 0);\r\n            resolve(this);\r\n        });\r\n    }\r\n\r\n    getImageData(){\r\n        return this.ctx.getImageData(0, 0, this.width, this.height);\r\n    }\r\n\r\n    addImage( path ){\r\n\r\n        return new Promise(resolve=>{\r\n            let img = new Image();\r\n\r\n            img.onload = () => {\r\n                this.ctx.drawImage( img, 0, 0, this.width, this.height);\r\n                resolve(this);\r\n            };\r\n            img.src = path;\r\n            \r\n        });      \r\n    }\r\n\r\n    clear(){\r\n        this.ctx.fillStyle = \"rgba(255, 255, 255, 1)\";\r\n        this.ctx.fillRect(0, 0, this.width, this.height);\r\n        return this;\r\n    }\r\n\r\n    toScreen(){\r\n        document.body.appendChild(this.$el);\r\n        return this;\r\n    }\r\n} \n\n\n/** WEBPACK FOOTER **\n ** ./src/canvas.class.js\n **/","import filterBank from './filter.bank';\r\n\r\nexport default function(pot){\r\n\r\n    pot.canvas.create()\r\n        .then(c=>c.addImage('asset/schoolboyq.png'))\r\n        .then(c=>c.applyEachPixel(filterBank.grayscale))\r\n        .then(c=>c.applyEachPixel(filterBank.threshold_light,130))\r\n        .then(c=>c.toScreen());\r\n    \r\n\r\n    console.log('Program is ended');\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/program.js\n **/","\r\nexport default {\r\n\r\n    grayscale: (r, g, b)=>{\r\n        let v = 0.2126*r + 0.7152+g + 0.0722*b;\r\n        return { r: v, g: v, b: v};\r\n    },\r\n\r\n    threshold: (r, g, b, config)=>{\r\n        return (r>config.r && g>config.g && b>config.b) ? {r:r, g:g, b:b} : {r:0, g:0, b:0};\r\n    },\r\n    threshold_light: (r, g, b, light)=>{\r\n        return ((r+g+b)/3 > light ) ? {r:r, g:g, b:b} : {r:0, g:0, b:0};\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/filter.bank.js\n **/"],"sourceRoot":""}